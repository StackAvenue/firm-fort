<%= stylesheet_link_tag 'style.css' %>
<div class="notice">
  <% if flash.any? %>
    <script type="text/javascript">
      <% flash.each do |key, value| %>
        <% type = key.to_s.gsub('alert', 'error').gsub('notice', 'success') %>
        toastr.<%= type %>('<%= value %>')
      <% end %>
    </script>
  <% end %>
</div>
<a style="float: right; margin-right: 1cm; margin-top:1cm;" class="btn btn-info" 
  <%= link_to "Change Password", user_edit_registration_path(current_user.id), remote: true %>
</a>
<div id='edit_user_password'></div>
<div class="page-content page-container" id="page-content">
  <div class="padding">
    <div class="row container d-flex justify-content-center", style="margin-left:2cm;">
      <div class="col-xl-8 col-md-16">
        <div class="card user-card-full">
          <div class="row m-l-10 m-r-10">
            <div class="col-sm-4 bg-c-lite-green user-profile">
              <div class="card-block text-center text-black">
                <div class="image">
                  <%= form_for @user  do |f|  %>
                    <div class="m-b-25">
                      <% if @user.image.attached? %>
                        <%= image_tag @user.image, width:150; %>
                      <%else%>
                        <img src="https://img.icons8.com/bubbles/100/000000/user.png">
                      <%end%> 
                      <%= f.file_field :image, class: "active-storage-button" %>  
                      <%= f.submit "Upload", style:"width:80px;" %>                   
                    </div>
                  <%end%>
                </div>
              </div>
            </div>
            <div class="col-sm-8">
              <div class="card-block">
                <h6 class="m-b-20 p-b-5 b-b-default f-w-600">Information</h6>
                <%= form_for @user  do |f|  %>
                  <div class="row">
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">Email</p>
                      <h6 class="f-w-400"><%= current_user.email %></h6>
                    </div>
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">Designation</p>
                      <h6 class=" f-w-400"><%= current_user.role.name %></h6> 
                    </div>
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">First Name</p>
                      <h6 class="text-muted f-w-400"><%= f.text_field :first_name %></h6> 
                    </div>
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">Last Name</p>
                      <h6 class="text-muted f-w-400"><%= f.text_field :last_name %></h6>
                    </div>
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">Age</p>
                      <h6 class="text-muted f-w-400"><%= f.number_field :age %></h6>
                    </div>
                    <div class="col-sm-6">
                      <p class="m-b-10 f-w-600">Gender</p>
                      <h6 class="text-muted f-w-400"><%= f.select :gender, ["male","female","other"] , 
                                {prompt:'None'}, {class: "form-select"} %></h6>
                    </div>
                    <div class="col-sm-12" style="align:left;">
                      <%= f.submit "Update" %> 
                    </div>
                  </div>
                <%end%>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

